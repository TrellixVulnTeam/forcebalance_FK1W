# ForceBalance input file generated by MakeInputFile.py
# The octothorpe '#' is a comment symbol
# Note: If the specified value is 'None' then the option will truly be set to None - not the string 'None'
# Note: 'Section' option types are more complicated and may require you to read the documentation
# Note: Boolean option types require no value, the key being present implies 'True'

$options
# (string) Directory containing force fields, relative to project directory
ffdir forcefield

# (string) Type of the penalty, L2 or L1 in the optimizer
penalty_type L2

# (string) Values to scan in the parameter space for job type "scan[mp]vals", given like this: -0.1:0.01:0.1
scan_vals -1:1:11
scanindex_num 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24

# (allcap) The job type, defaults to a single-point evaluation of objective function
jobtype bfgs

# (list) The names of force fields, corresponding to directory forcefields/file_name.(itp|gen)
forcefield amoebawater.xml

# (int) Maximum number of steps in an optimization
maxstep 100

# (float) Convergence criterion of step size (just needs to fall below this threshold)
convergence_step 0.0001

# (float) Convergence criterion of objective function (in MainOptimizer this is the stdev of x2 over 10 steps)
convergence_objective 0.0001

# (float) Convergence criterion of gradient norm
convergence_gradient 0.0001

# (float) Minimum eigenvalue for applying steepest descent correction in the MainOptimizer
eig_lowerbound 0.0001

# (float) Step size for finite difference derivatives in many functions (get_(G/H) in fitsim, FDCheckG)
finite_difference_h 0.001

# (float) Factor for multiplicative penalty function in objective function
penalty_multiplicative 0.1

trust0 0.1

priors
   AmoebaHarmonicBondForce.Bond/length   : 1.0e-02
   AmoebaHarmonicBondForce.Bond/k        : 3.0e+05
   AmoebaHarmonicAngleForce.Angle/angle1 : 3.0e+01
   AmoebaHarmonicAngleForce.Angle/k      : 1.0e-01
   AmoebaVdwForce.Vdw/sigma              : 2.0e-01
   AmoebaVdwForce.Vdw/epsilon/73         : 4.0e-01
   AmoebaVdwForce.Vdw/epsilon/74         : 4.0e-02
   AmoebaVdwForce.Vdw/reduction          : 0.1
   AmoebaMultipoleForce.Multipole/c      : 1.0
   AmoebaMultipoleForce.Multipole/d      : 0.05
   AmoebaMultipoleForce.Multipole/q      : 0.001
   AmoebaMultipoleForce.Polarize/polarizability/381 : 4.9600e-04
   AmoebaUreyBradleyForce.UreyBradley/k  : 1.0e+05
/priors
$end


$simulation
# (string) The name of the simulation, which corresponds to the directory simulations/dir_name
name Energy_Force

# (allcap) The type of fitting simulation, for instance ForceEnergyMatch_GMXX2
simtype ForceEnergyMatch_OpenMM

# (list) The parameter types that need to be differentiated using finite difference
fd_ptypes all

# (int) Number of fitting atoms (force+energy matching); defaults to all of them
fitatoms 0

# (int) Number of snapshots (force+energy matching); defaults to all of the snapshots
shots -1

# (bool) Finite difference gradients
fdgrad 1

# (bool) Finite difference Hessian diagonals (costs np times a gradient calculation)
fdhess 1

# (bool) Finite difference Hessian diagonals (cheap; costs 2np times a objective calculation)
fdhessdiag 1

# (bool) Whether to batch and queue up finite difference jobs, defaults to False
batch_fd 0

# (bool) Whether to use the quantum covariance matrix (force+energy match), defaults to True
covariance 0

# (bool) Bypass the transformation matrix and use the physical parameters directly
use_pvals 0

# (bool) Whether to use WHAM Boltzmann Weights (force+energy match), defaults to False
whamboltz 0

# (bool) Whether to use the (archaic) sampling correction (force+energy match), defaults to False
sampcorr 0

# (float) Fraction of Quantum Boltzmann Weights (force+energy match), 1.0 for full reweighting, 0.0 < 1.0 for hybrid
qmboltz 0.0

# (float) Temperature for Quantum Boltzmann Weights (force+energy match), defaults to room temperature
qmboltztemp 298.15

# (float) 1.0 for all energy and 0.0 for all force (force+energy match), defaults to 0.5
efweight 0.5

# (float) Weight of the current simulation (with respect to other simulations)
weight 1.0
$end
